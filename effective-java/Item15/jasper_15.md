## Item 15

> 클래스와 멤버의 접근 권한을 최소화하라

### 정보 은닉(캡슐화)란?

- 클래스 내부 데이터와 내부 구현 정보를 외부 컴포넌트로부터 숨기는 것

- 잘 설계된 컴포넌트는 모든 내부 구현을 완벽히 숨겨, 구현과 API를 깔끔히 분리한다.

- 오직 API를 통해서만 다른 컴포넌트와 소통하며 서로의 내부 동작 방식에는 전혀 개의치 않는다.

> 컴포넌트란? 여러 개의 프로그램 함수들을 모아 하나의 특정한 기능을 수행할 수 있도록 구성한 작은 기능적 단위를 말한다. 컴포넌트를 이용하면 소프트웨어 개발을 마치 레고(Lego) 블록을 쌓듯이 조립식으로 쉽게 할 수 있다
(모듈이라고도 한다.)

### 정복 은닉의 장점

- 시스템 개발 속도를 높인다. 여러 컴포넌트를 병렬로 개발할 수 있기 때문이다.

- 시스템 관리 비용을 낮춘다. 각 컴포넌트를 더 빨리 파악하여 디버깅할 수 있고, 다른 컴포넌트로 교체하는 부담도 적기 때문이다.

- 정보 은닉 자체가 성능을 높여주지는 않지만, 성능 최적화에 도움을 준다. 완성된 시스템을 프로파일링해 최적화할 컴포넌트를 정한 다음, 다른 컴포넌트에 영향을 주지 않고 해당 컴포넌트만 최적화할 수 있기 때문이다.

- 소프트웨어 재사용성을 높인다. 외부에 거의 의존하지 않고 독자적으로 동작할 수 있는 컴포넌트라면 그 컴포넌트와 함께 해발되지 않은 낯선 환경에서도 유용하게 쓰일 가능성이 크기 때문이다.

- 큰 시스템을 제작하는 난이도를 낮춰준다. 시스템 전체가 아직 완성되지 않은 상태에서도 개별 컴포넌트의 동작을 검증할 수 있기 때문이다.


### 접근 제어자

- 모든 클래스와 멤버의 접근성을 가능한 한 좁혀야 한다.

- (가장 바깥이라는 의미의) 톱레벨 클래스와 인터페이스에서 패키지 외부에서 쓸 이유가 없다면 package-private으로 선언하자
    - API가 아닌 내부 구현이 되어 언제든 수정할 수 있다. 즉, 클라이언트에 아무런 피해 없이 다음 릴리스에서 수정, 교체, 제거할 수 있다.
    - public으로 선언한다면 API가 되므로 하위 호환을 위해 영원히 관리해줘야만 한다.
    - 한 클래스에서만 사용하는 package-private 톱레벨 클래스나 인터페이스는 이를 사용하는 클래스 안에 private static 이너 클래스로 중첩시키자.

- private : 멤버를 선언한 톱레벨 클래스에서만 접근할 수 있다.

- package-private : 멤버가 소속된 패키지 안의 모든 클래스에서 접근할 수 있다. 접근 제한자를 명시하지 않았을 때 적용되는 패키지 접근 수준이다.
    - 인터페이스의 멤버는 기본적으로 public으로 적용.

- protected : package-private의 접근 범위를 포함하며, 이 멤버를 선언한 클래스의 하위 클래스에서도 접근할 수 있다.

- pubic : 모든 곳에서 접근할 수 있다.

